{% extends 'base.html' %} 
{% block title %} 
CyberRange 
{% endblock %} 
{% block content %}

<div id="admin_area" class="content-container">
  <div class="content">
  <h1>Admin Area</h1>

    <select class="" name="exercises-select">
      {% for exercise in exercises %}
          <option value="{{ exercise.id }}">{{ exercise.name }}</option>
      {% endfor %}
    </select>

    <select class="" name="users-select">
      {% for user in users %}
          <option value="{{ user.id }}">{{ user.username }}</option>
      {% endfor %}
    </select>

    <table>
      <tr>
        {% for column in table.columns %}
          <th>
            {{ column.name }}
            <input type="hidden" value="{{ column.id }}">
          </th>
        {% endfor %}
      </tr>
  
      {% for entry in table.data %}
        <tr>
          {% for key, value in entry.items() %}
            <td> 
              {% if key != "user_id" and key != "username"  %} 
                {% if value == 1 %}
                
                  <div class="stat_indicator success">
                    <svg class="bi stat_icon" width="24" height="24" role="img">
                      <use xlink:href="#success"></use>
                    </svg>
                  </div>
                
                {% else %}
                
                <div class="stat_indicator failed">
                  <svg class="bi stat_icon" width="24" height="24" role="img">
                    <use xlink:href="#fail"></use>
                  </svg>
                </div>
                {% endif %}
              <a href='/results/{{ entry["user_id"] }}/{{ key }}'>
                ?
              </a>
              {% else %}
                {{ value }}
              {% endif %}
            </td>
          {% endfor %}
        </tr>
      {% endfor %}
    </table>

  </div>

</div>

<div id="preloader" class="content-container pager">
  <div class="lds-ring">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
{% endblock %}
